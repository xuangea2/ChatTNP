/* Custom styles complementing Tailwind */
:root {
  --color-dark: #ffffff;
  --color-mid: #4b5563;
  --color-text: #111827;
  --color-detail-light: #e5e7eb;
  --color-detail-mid: #1e3a8a;
  --accent: #1e3a8a;
}

::-webkit-scrollbar { width: 10px; }
::-webkit-scrollbar-track { background: var(--color-dark); }
::-webkit-scrollbar-thumb { background: var(--color-mid); border-radius: 6px; }
::-webkit-scrollbar-thumb:hover { background: var(--color-detail-mid); }

.btn-primary {
  background:var(--color-detail-mid); color:#ffffff; font-weight:500; padding:0.625rem 1.25rem; border-radius:0.9rem; box-shadow:0 4px 12px -2px rgba(0,0,0,0.15); transition:background .15s, transform .15s; display:inline-flex; align-items:center; justify-content:center;
}
.btn-primary:hover { background:var(--color-detail-light); }
.btn-primary:active { background:var(--color-mid); transform:translateY(1px); }
.btn-primary:disabled { opacity:.5; cursor:not-allowed; }
.btn-secondary {
  background:var(--color-dark); color:var(--color-mid); font-weight:500; padding:0.5rem 1rem; border-radius:0.9rem; border:1px solid var(--color-mid); transition:background .15s,color .15s; display:inline-flex; align-items:center; justify-content:center;
}
.btn-secondary:hover { background:var(--color-detail-light); }
.btn-secondary:active { background:var(--color-detail-mid); }
.input {
  background:rgba(255,255,255,0.8); border:1px solid var(--color-mid); border-radius:0.6rem; padding:0.5rem 0.75rem; font-size:0.85rem; width:100%; color:var(--color-text); outline:none; box-shadow:inset 0 0 0 999px rgba(0,0,0,0.0);
}
.input:focus { border-color:var(--color-detail-mid); box-shadow:0 0 0 2px rgba(30,58,138,0.3); }

.message {
  max-width: 70ch;
  animation: fadeIn 0.25s ease-in;
}
.message-user { background:#eef2ff; color:var(--color-text); margin-left:auto; }
.message-assistant { background:#f8fafc; color:var(--color-text); }
.message-system { background:var(--color-detail-light); color:var(--color-mid); font-style:italic; }

.message, .thinking { border-radius:1.25rem; padding:0.75rem 1.1rem; font-size:0.95rem; line-height:1.5; white-space:pre-wrap; box-shadow:0 4px 10px -2px rgba(0,0,0,0.12); }

.thinking { background:#f3f4f6; color:var(--color-mid); display:flex; align-items:center; gap:0.5rem; }

.spinner {
  width: 16px; height: 16px;
  border: 3px solid var(--color-mid);
  border-top-color: var(--accent);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

/* Markdown rendering tweaks */
.message pre, .message code { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; }
.message pre { background:#f3f4f6; padding:0.75rem 1rem; border-radius:0.9rem; overflow-x:auto; margin:0.5rem 0; border:1px solid var(--color-detail-light); }
.message code { background:#f3f4f6; padding:0.15rem 0.35rem; border-radius:0.4rem; font-size:0.78rem; }
.message a { color:#1d4ed8; text-decoration:underline; }
.message a:hover { color:#1e3a8a; }
.message ul, .message ol { margin:0.5rem 1rem 0.5rem 1.25rem; padding-left:1rem; }
.message li { margin:0.15rem 0; }
.message blockquote { border-left:4px solid var(--color-detail-light); margin:0.75rem 0; padding:0.25rem 0.75rem; color:var(--color-mid); background:#f9fafb; border-radius:0.4rem; }
.message h1, .message h2, .message h3, .message h4 { font-weight:600; line-height:1.2; margin-top:0.9rem; margin-bottom:0.4rem; }
.message h1 { font-size:1.15rem; }
.message h2 { font-size:1.05rem; }
.message h3 { font-size:0.95rem; }
.message table { border-collapse:collapse; margin:0.75rem 0; }
.message th, .message td { border:1px solid var(--color-mid); padding:0.4rem 0.6rem; font-size:0.75rem; }
.message th { background:var(--color-detail-light); }

/* Slightly larger text for settings panel */
.settings-panel { font-size: 0.95rem; }

@keyframes spin { to { transform: rotate(360deg); } }
@keyframes fadeIn { from { opacity: 0; transform: translateY(4px); } to { opacity: 1; transform: translateY(0); } }

/* App layout */
.app-body { background: var(--color-dark); color: var(--color-text); }
.app-shell { background: rgba(255,255,255,0.85); backdrop-filter: blur(8px); border:1px solid var(--color-detail-light); margin-top: 0.5rem; margin-bottom: 0.5rem; }
.app-header { background: rgba(255,255,255,0.85); border-color: var(--color-detail-light); display:flex; align-items:center; }
.app-footer { background: rgba(255,255,255,0.85); border-color: var(--color-detail-light); }
.app-main { background: transparent; }
.app-title { position:absolute; left:50%; top:50%; transform:translate(-50%, -50%); pointer-events:none; }
.header-actions { position:absolute; right:1.5rem; top:50%; transform:translateY(-50%); }
.chat-overlay { background: rgba(0,0,0,0.05); border:1px solid rgba(30,58,138,0.15); backdrop-filter: blur(4px); }
